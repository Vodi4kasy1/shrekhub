local FoxGui = {}

-- Создание основного окна
function FoxGui:MakeWindow(config)
    local ScreenGui = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local Title = Instance.new("TextLabel")

    -- Установка параметров
    ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = ScreenGui
    MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    MainFrame.Size = UDim2.new(0, 500, 0, 400)
    MainFrame.Position = UDim2.new(0.5, -250, 0.5, -200)
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    
    Title.Name = "Title"
    Title.Parent = MainFrame
    Title.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.Font = Enum.Font.GothamBold
    Title.Text = config.Title or "Fox Hub"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 16

    -- Возврат окна
    return MainFrame
end

-- Создание вкладки
function FoxGui:MakeTab(parent, name)
    local TabButton = Instance.new("TextButton")
    local TabFrame = Instance.new("Frame")

    -- Настройка кнопки вкладки
    TabButton.Parent = parent
    TabButton.Text = name or "Tab"
    TabButton.Size = UDim2.new(0, 100, 0, 30)
    TabButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.Font = Enum.Font.Gotham
    TabButton.TextSize = 14

    -- Настройка фрейма вкладки
    TabFrame.Parent = parent
    TabFrame.Size = UDim2.new(1, 0, 1, -40)
    TabFrame.Position = UDim2.new(0, 0, 0, 40)
    TabFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    TabFrame.Visible = false

    TabButton.MouseButton1Click:Connect(function()
        for _, child in pairs(parent:GetChildren()) do
            if child:IsA("Frame") and child ~= TabFrame then
                child.Visible = false
            end
        end
        TabFrame.Visible = true
    end)

    return TabFrame
end

-- Создание кнопки
function FoxGui:MakeButton(parent, name, callback)
    local Button = Instance.new("TextButton")

    Button.Parent = parent
    Button.Text = name or "Button"
    Button.Size = UDim2.new(0, 200, 0, 30)
    Button.Position = UDim2.new(0.5, -100, 0, 10)
    Button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.Gotham
    Button.TextSize = 14

    Button.MouseButton1Click:Connect(function()
        if callback then
            callback()
        end
    end)

    return Button
end

-- Создание переключателя
function FoxGui:MakeToggle(parent, name, callback)
    local Toggle = Instance.new("Frame")
    local Label = Instance.new("TextLabel")
    local Button = Instance.new("TextButton")
    local Toggled = false

    Toggle.Parent = parent
    Toggle.Size = UDim2.new(0, 200, 0, 30)
    Toggle.Position = UDim2.new(0.5, -100, 0, 50)
    Toggle.BackgroundColor3 = Color3.fromRGB(70, 70, 70)

    Label.Parent = Toggle
    Label.Text = name or "Toggle"
    Label.Size = UDim2.new(0.8, 0, 1, 0)
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.Font = Enum.Font.Gotham
    Label.TextSize = 14
    Label.BackgroundTransparency = 1

    Button.Parent = Toggle
    Button.Size = UDim2.new(0.2, 0, 1, 0)
    Button.Position = UDim2.new(0.8, 0, 0, 0)
    Button.Text = ""
    Button.BackgroundColor3 = Color3.fromRGB(255, 50, 50)

    Button.MouseButton1Click:Connect(function()
        Toggled = not Toggled
        Button.BackgroundColor3 = Toggled and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)
        if callback then
            callback(Toggled)
        end
    end)

    return Toggle
end

return FoxGui
